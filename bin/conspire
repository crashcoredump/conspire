#!/usr/bin/env ruby

require File.dirname(__FILE__) + '/../lib/conspire'

# TODO: real option parsing
# Should be able to set:
# * port
# * path
# * sync interval
# * 
Conspire.start :port => ARGV.first || Conspire::DEFAULT_OPTIONS[:port]

Thread.new { Conspire.discover_loop }
Conspire.sync_loop
